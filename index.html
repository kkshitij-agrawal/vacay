<!DOCTYPE html>
<html>
  <head>
    <title>Page Title</title>
  </head>
  <body>
    <style>
      #counter {
        background-color: aquamarine;
        padding: 1%;
      }

      .calendar {
        margin-top: 2%;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-gap: 20px;
      }

      .month {
        /* display: flex; */
        /* flex-direction: column; */
        grid-template-rows: repeat(7, 1fr);
        grid-template-columns: repeat(7, 1fr);
        grid-gap: 5px;
        background-color: #f2f2f2;
        border-radius: 10px;
        padding: 10px;
      }

      .month-name {
        background-color: #3498db;
        color: #fff;
        text-align: center;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        padding: 10px 0;
      }

      .weekdays {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        grid-gap: 5px;
        text-align: center;
        padding: 10px 0;
        font-weight: bold;
      }

      .weekday {
        /* background-color: #e6e6e6; */
      }

      .dates {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        grid-gap: 5px;
      }

      .date {
        background-color: #fff;
        border-radius: 5px;
        text-align: center;
        padding: 10px;
        cursor: pointer;
        position: relative;
      }

      .date.selected {
        background-color: #3498db;
        color: #fff;
      }

      /* Style for merged dates */
      .date.selected + .date.selected {
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
        margin-left: -5px;
      }

      .date.selected:last-child {
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
      }

      .date.selected:first-child {
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
      }

      .date.selected:before {
        content: "";
        position: absolute;
        top: 10px;
        bottom: 10px;
        left: -5px;
        width: 5px;
        background-color: #3498db;
      }

      /* Style for public holidays */
      .date.holiday {
        background-color: #e74c3c;
        color: #fff;
      }

      .date.empty {
        opacity: 0.5;
      }

      .date.weekdaycolor {
        background-color: hsl(57, 100%, 92%);
      }

      @media (max-width: 600px) {
        .calendar {
          grid-template-columns: repeat(1, 1fr);
          grid-gap: 20px;
        }
      }
    </style>

    <span id="counter">OOO Days: <span id="count">0</span></span>

    <div class="calendar">
      <div class="month">
        <div class="month-name">January</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date weekdaycolor">1</div>
          <div class="date holiday">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date weekdaycolor">7</div>
          <div class="date weekdaycolor">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date weekdaycolor">14</div>
          <div class="date weekdaycolor">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date weekdaycolor">21</div>
          <div class="date weekdaycolor">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date weekdaycolor">28</div>
          <div class="date weekdaycolor">29</div>
          <div class="date">30</div>
          <div class="date">31</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">February</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">March</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
          <div class="date">31</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">April</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">May</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">June</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
          <div class="date">31</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">July</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
          <div class="date">31</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">August</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
          <div class="date">31</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">September</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">October</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
          <div class="date">31</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">November</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
        </div>
      </div>

      <div class="month">
        <div class="month-name">December</div>
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="dates">
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date empty"></div>
          <div class="date">1</div>
          <div class="date">2</div>
          <div class="date">3</div>
          <div class="date">4</div>
          <div class="date">5</div>
          <div class="date">6</div>
          <div class="date">7</div>
          <div class="date">8</div>
          <div class="date">9</div>
          <div class="date">10</div>
          <div class="date">11</div>
          <div class="date">12</div>
          <div class="date">13</div>
          <div class="date">14</div>
          <div class="date">15</div>
          <div class="date">16</div>
          <div class="date">17</div>
          <div class="date">18</div>
          <div class="date">19</div>
          <div class="date">20</div>
          <div class="date">21</div>
          <div class="date">22</div>
          <div class="date">23</div>
          <div class="date">24</div>
          <div class="date">25</div>
          <div class="date">26</div>
          <div class="date">27</div>
          <div class="date">28</div>
          <div class="date">29</div>
          <div class="date">30</div>
          <div class="date">31</div>
        </div>
      </div>
    </div>

    <script>
      const dates = document.querySelectorAll(".date");
      let count = 0;

      dates.forEach((date) => {
        date.addEventListener("click", function () {
          this.classList.toggle("selected");

          // check if there are selected neighboring dates and merge them
          const row = this.parentNode.children;
          let merged = false;

          //   if (tableCells[i].classList.contains("selected")) {
          //   count++;
          //   console.log("hell");
          // }
          if (
            this.classList.contains("selected") &&
            !this.classList.contains("holiday")
          ) {
            count++;
          } else if (
            !this.classList.contains("selected") &&
            !this.classList.contains("holiday")
          ) {
            count--;
          }
          document.querySelector("#count").textContent = count;

          for (let i = 0; i < row.length; i++) {
            if (row[i] === this) {
              if (row[i - 1] && row[i - 1].classList.contains("selected")) {
                this.classList.add("merged");
                merged = true;
                break;
              } else if (
                row[i + 1] &&
                row[i + 1].classList.contains("selected")
              ) {
                row[i + 1].classList.add("merged");
                merged = true;
                break;
              }
            }
          }

          if (!merged) {
            this.classList.remove("merged");
          }
        });
      });

      // let tableCells = document.querySelectorAll(
      //   "td:not(.weekdaycolor):not(.empty):not(.holiday)"
      // );
      // console.log("hello");
      // for (let i = 0; i < tableCells.length; i++) {
      //   console.log("hell");
      //   if (tableCells[i].classList.contains("selected")) {
      //     count++;
      //     console.log("hell");
      //   }
      // }
      // document.querySelector("#count").textContent = count;
    </script>
  </body>
</html>
